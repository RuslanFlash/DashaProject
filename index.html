<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è –î–∞—à–∏ üíñ</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<style>
  body, html { margin: 0; padding: 0; overflow: hidden; height: 100%; background: black; }
  canvas { position: absolute; top: 0; left: 0; z-index: 3; width: 100vw; height: 100vh; }
  .carousel-row { 
    width: 110px; max-width: 25vw; height: auto; overflow: hidden; margin-bottom: 15px;
  }
  .carousel-inner { position: relative; }
  .carousel-inner img { width: 100%; height: auto; object-fit: cover; display: block; margin-bottom: 5px; }
  #music-toggle { 
    position: absolute; bottom: 20px; right: 20px; z-index: 10;
    background: rgba(255,255,255,0.7); border: none; padding: 10px 15px;
    border-radius: 10px; font-size: 18px; cursor: pointer; display: none; 
  }
  /* –û–∫–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è */
  #start-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.9); color: white; display: flex; flex-direction: column;
    justify-content: center; align-items: center; z-index: 20; text-align: center;
  }
  #start-screen h2 { font-size: 2rem; margin-bottom: 20px; }
  #start-btn {
    padding: 12px 25px; font-size: 18px; border: none; border-radius: 12px;
    background: hotpink; color: white; cursor: pointer; transition: 0.3s;
  }
  #start-btn:hover { background: deeppink; }

  /* –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã */
  .compliment {
    position: absolute; white-space: nowrap; font-size: 22px; color: #ffb6c1;
    animation: moveRight 20s linear infinite;
    text-shadow: 0 0 10px rgba(255,100,150,0.8);
    font-weight: bold;
  }
  @keyframes moveRight {
    from { transform: translateX(-10%); }
    to   { transform: translateX(50vw); }
  }
</style>
</head>
<body>
<!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ -->
<div id="start-screen">
  <h2>üé∂ –í–∫–ª—é—á–∏ –∑–≤—É–∫ –¥–ª—è –ª—É—á—à–µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ üíñ</h2>
  <button id="start-btn">–ù–∞—á–∞—Ç—å</button>
</div>

<div class="d-flex justify-content-between position-absolute w-100" style="top:5vh; z-index:1; padding: 0 30px;">
  <div id="carousel-container-left"></div>
  <div id="carousel-container-right"></div>
</div>

<canvas id="canvas"></canvas>
<audio id="bg-music" loop>
  <source src="https://raw.githubusercontent.com/RuslanFlash/DashaProject/main/Vanya.mp3" type="audio/mpeg">
</audio>
<button id="music-toggle">üîä</button>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const toggle = document.getElementById("music-toggle");
const music = document.getElementById("bg-music");

const compliments = [
  "–¢—ã —Å–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è üå∏",
  "–£–ª—ã–±–∫–∞ —É —Ç–µ–±—è –≤–æ–ª—à–µ–±–Ω–∞—è ‚ú®",
  "–¢—ã –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ üíï",
  "–° —Ç–æ–±–æ–π —Ç–µ–ø–ª–æ –¥–∞–∂–µ –≤ —Ö–æ–ª–æ–¥ ‚ùÑÔ∏è‚ù§Ô∏è",
  "–¢—ã –ª—É—á—à–µ–µ, —á—Ç–æ —Å–æ –º–Ω–æ–π —Å–ª—É—á–∏–ª–æ—Å—å üåπ",
  "–¢–≤–æ–∏ –≥–ª–∞–∑–∞ —Å–∏—è—é—Ç —è—Ä—á–µ –∑–≤–µ–∑–¥ ‚ú®",
  "–° —Ç–æ–±–æ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∫–∞–∫ –ø—Ä–∞–∑–¥–Ω–∏–∫ üéâ",
  "–¢—ã –¥–∞—Ä–∏—à—å —Ä–∞–¥–æ—Å—Ç—å –æ–∫—Ä—É–∂–∞—é—â–∏–º üåà",
  "–¢–≤–æ–π —Å–º–µ—Ö ‚Äî –º—É–∑—ã–∫–∞ –¥–ª—è –¥—É—à–∏ üé∂",
  "–¢—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —É–º–Ω–∞—è üß†",
  "–¢—ã —Å–ª–æ–≤–Ω–æ —Å–æ–ª–Ω–µ—á–Ω—ã–π –ª—É—á üåû",
  "–° —Ç–æ–±–æ–π –ª–µ–≥–∫–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ üå∑",
  "–¢—ã –Ω–∞—Å—Ç–æ—è—â–∞—è –∂–µ–º—á—É–∂–∏–Ω–∞ üíé",
  "–¢–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è –∑–∞—Ä—è–∂–∞–µ—Ç ‚ö°",
  "–¢—ã —É–Ω–∏–∫–∞–ª—å–Ω–∞ –≤–æ –≤—Å–µ–º üíñ",
  "–¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞ üå∏",
  "–¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å —Å–µ—Ä–¥—Ü–µ –±–∏—Ç—å—Å—è —á–∞—â–µ ‚ù§Ô∏è",
  "–° —Ç–æ–±–æ–π –º–∏—Ä —è—Ä—á–µ üåü",
  "–¢—ã –∫–∞–∫ –º–∞–≥–∏—è ‚ú®",
  "–¢–≤–æ—è –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ç—Ä–æ–≥–∞–µ—Ç –¥—É—à—É üíï",
  "–¢—ã –≤–æ–ª—à–µ–±—Å—Ç–≤–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ üßö",
  "–¢–≤–æ–∏ —Å–ª–æ–≤–∞ —Å–æ–≥—Ä–µ–≤–∞—é—Ç ‚ùÑÔ∏è‚ù§Ô∏è",
  "–¢—ã –∫–∞–∫ –≤–µ—Å–µ–Ω–Ω–∏–π –≤–µ—Ç–µ—Ä üåº",
  "–° —Ç–æ–±–æ–π –ª–µ–≥–∫–æ –º–µ—á—Ç–∞—Ç—å üåà",
  "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –Ω–∞ –ª—É—á—à–µ–µ üåπ",
  "–¢–≤–æ—è —É–ª—ã–±–∫–∞ –æ—Å–≤–µ—â–∞–µ—Ç –≤—Å—ë –≤–æ–∫—Ä—É–≥ üåü",
  "–¢—ã –∫–∞–∫ –ª—é–±–∏–º–∞—è –ø–µ—Å–Ω—è üéµ",
  "–° —Ç–æ–±–æ–π —Ö–æ—á–µ—Ç—Å—è —Å–º–µ—è—Ç—å—Å—è üòÇ",
  "–¢—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –æ–±–∞—è—Ç–µ–ª—å–Ω–∞ üíñ",
  "–¢–≤–æ–π —Å—Ç–∏–ª—å –≤—Å–µ–≥–¥–∞ –±–µ–∑—É–ø—Ä–µ—á–µ–Ω üëó",
  "–¢—ã —Å–ª–æ–≤–Ω–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∏–∑ –º–µ—á—Ç—ã üñºÔ∏è",
  "–° —Ç–æ–±–æ–π —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è –¥–æ–º–∞ üè°",
  "–¢—ã –æ—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å–Ω–∞ –≤ –º–µ–ª–æ—á–∞—Ö üå∏",
  "–¢–≤–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å –∑–∞–≤–æ—Ä–∞–∂–∏–≤–∞–µ—Ç üíï",
  "–¢—ã —Å–ª–æ–≤–Ω–æ —á—É–¥–æ üåü",
  "–° —Ç–æ–±–æ–π —Ö–æ—á–µ—Ç—Å—è —Ç–≤–æ—Ä–∏—Ç—å üé®",
  "–¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å –≤–µ—Ä–∏—Ç—å –≤ —á—É–¥–µ—Å–∞ ‚ú®",
  "–¢–≤–æ—è –∫—Ä–∞—Å–æ—Ç–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –∏ –≤–Ω–µ—à–Ω–µ üíñ",
  "–¢—ã –∫–∞–∫ –ª–µ—Ç–Ω–∏–π –¥–æ–∂–¥—å ‚Äî —Å–≤–µ–∂–∞ –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ üå¶Ô∏è",
  "–¢–≤–æ—è —É–ª—ã–±–∫–∞ –∫–∞–∫ —É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ–ª–Ω—Ü–µ üåû",
  "–° —Ç–æ–±–æ–π –ª–µ–≥–∫–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ üå∑",
  "–¢—ã –∏–∑–ª—É—á–∞–µ—à—å —Ç–µ–ø–ª–æ ‚ù§Ô∏è",
  "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –±—ã—Ç—å –ª—É—á—à–µ üí™",
  "–° —Ç–æ–±–æ–π –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –±–µ—Å—Ü–µ–Ω–µ–Ω ‚è≥",
  "–¢—ã –∫–∞–∫ —Ä–µ–¥–∫–∏–π —Ü–≤–µ—Ç–æ–∫ üåπ",
  "–¢–≤–æ–∏ –≥–ª–∞–∑–∞ –æ—Ç—Ä–∞–∂–∞—é—Ç –º–∏—Ä üåå",
  "–¢—ã —Å–ª–æ–≤–Ω–æ –≤–æ–ª—à–µ–±–Ω–∞—è —Å–∫–∞–∑–∫–∞ üìñ",
  "–° —Ç–æ–±–æ–π –≤—Å—ë –∫–∞–∂–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω—ã–º üåà",
  "–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä —è—Ä—á–µ üåü",
  "–¢–≤–æ—è –¥—É—à–∞ –∫—Ä–∞—Å–∏–≤–∞ üíï",
  "–¢—ã –æ—Å–æ–±–µ–Ω–Ω–∞—è üå∏",
  "–° —Ç–æ–±–æ–π —Ö–æ—á–µ—Ç—Å—è –±—ã—Ç—å —Ä—è–¥–æ–º –≤—Å–µ–≥–¥–∞ ‚ù§Ô∏è"
];
function spawnCompliment(){
  let div = document.createElement("div");
  div.className = "compliment";
  div.style.top = Math.random()*80 + "vh";
  div.style.animationDuration = (15+Math.random()*10)+"s";
  div.textContent = compliments[Math.floor(Math.random()*compliments.length)];
  document.body.appendChild(div);
  setTimeout(()=>div.remove(), 25000);
}
setInterval(spawnCompliment, 5000); // –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –Ω–æ–≤—ã–π

// --- –°–ª–∞–π–¥-—à–æ—É ---
const PHOTOS = [];
for(let i=1;i<=20;i++){
  PHOTOS.push(`https://raw.githubusercontent.com/RuslanFlash/DashaProject/main/img/${i}.jpg`);
}
let started = false;
let particleFactor = 15;

const containers = [
  document.getElementById("carousel-container-left"),
  document.getElementById("carousel-container-right")
];
containers.forEach(c=>c.style.display='none');

let rows = [];
containers.forEach(container=>{
  for(let i=0;i<3;i++){
    let row = document.createElement('div');
    row.className='carousel-row';
    let inner = document.createElement('div');
    inner.className='carousel-inner';
    PHOTOS.forEach(url=>{
      let img = document.createElement('img');
      img.src = url;
      inner.appendChild(img);
    });
    row.appendChild(inner);
    container.appendChild(row);
    rows.push({container: row, inner: inner, offset:0});
  }
});

// --- –°–µ—Ä–¥—Ü–µ –∏ —á–∞—Å—Ç–∏—Ü—ã ---
function drawHeart(x, y, size, color){
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.moveTo(x, y);
  ctx.bezierCurveTo(x, y - size/2, x - size, y - size/2, x - size, y);
  ctx.bezierCurveTo(x - size, y + size/2, x, y + size/1.5, x, y + size);
  ctx.bezierCurveTo(x, y + size/1.5, x + size, y + size/2, x + size, y);
  ctx.bezierCurveTo(x + size, y - size/2, x, y - size/2, x, y);
  ctx.fill();
}

let pointerX=0, pointerY=0;

class Particle {
  constructor(target){
    this.startX = Math.random()*canvas.width;
    this.startY = Math.random()*canvas.height;
    this.x = this.startX;
    this.y = this.startY;
    this.tx = target.x;
    this.ty = target.y;
    this.vx = (Math.random()-0.5)*2;
    this.vy = (Math.random()-0.5)*2;
    this.isExploding = false;
  }
  update(){
    if(this.isExploding){
      this.updateAroundPoint(pointerX, pointerY);
    } else if(started){
      this.x += (this.tx - this.x)*0.06 + (Math.random()-0.5)*1;
      this.y += (this.ty - this.y)*0.06 + (Math.random()-0.5)*1;
    } else {
      this.x += this.vx;
      this.y += this.vy;
      if(this.x<0||this.x>canvas.width) this.vx*=-1;
      if(this.y<0||this.y>canvas.height) this.vy*=-1;
    }
  }
  updateAroundPoint(px, py){
    let dx = this.x - px;
    let dy = this.y - py;
    let dist = Math.sqrt(dx*dx + dy*dy);
    let radius = 100;
    if(dist < radius){
      let factor = 0.05;
      let maxSpeed = 3;
      this.vx += -dx*factor + (Math.random()-0.5);
      this.vy += -dy*factor + (Math.random()-0.5);
      this.vx = Math.max(-maxSpeed, Math.min(maxSpeed, this.vx));
      this.vy = Math.max(-maxSpeed, Math.min(maxSpeed, this.vy));
    }
    this.x += this.vx; this.y += this.vy;
    if(this.x<0||this.x>canvas.width) this.vx*=-1;
    if(this.y<0||this.y>canvas.height) this.vy*=-1;
  }
  draw(){
    drawHeart(this.x, this.y, 4, currentHeartColor);
  }
}

// –¢–æ—á–∫–∏
function generateTextPoints(text, cx, cy){
  let c=document.createElement('canvas'), ctx2=c.getContext('2d');
  c.width=900;c.height=200;
  ctx2.font='bold 80px Arial'; ctx2.fillStyle='white'; ctx2.fillText(text,0,150);
  let data = ctx2.getImageData(0,0,c.width,c.height).data, pts=[];
  for(let y=0;y<c.height;y+=5){ 
    for(let x=0;x<c.width;x+=5){ 
      if(data[(y*c.width+x)*4+3]>128) pts.push({x:x+canvas.width/2-150,y:y+canvas.height/2-100});
    }
  }
  return pts;
}
function generateHeartPoints(cx, cy, size){
  let pts=[];
  for(let t=0;t<Math.PI*2;t+=0.04){
    let x=16*Math.pow(Math.sin(t),3);
    let y=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
    pts.push({x:cx+x*size,y:cy-y*size});
  }
  return pts;
}

const centerX=canvas.width/2, centerY=canvas.height/2;
let textPoints = generateTextPoints("–î–∞—à—É–ª—è", centerX, centerY);
let pulse=0, heartBaseSize=12, currentHeartColor="pink";
function getHeartPointsWithPulse(){
  let scale = heartBaseSize + Math.sin(pulse)*2;
  return generateHeartPoints(centerX, centerY, scale);
}
let heartPoints = getHeartPointsWithPulse();
let allPoints = textPoints.concat(heartPoints);
for(let i=0;i<500;i++){ allPoints.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height}); }
let particles = allPoints.map(p=>new Particle(p));

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  pulse += 0.08; 
  heartPoints = getHeartPointsWithPulse();
  for(let i=0;i<heartPoints.length;i++){
    particles[textPoints.length+i].tx = heartPoints[i].x;
    particles[textPoints.length+i].ty = heartPoints[i].y;
  }
  let t = (Math.sin(pulse)+1)/2;
  let r=255, g=Math.round(105+20*(1-t)), b=Math.round(180*(1-t));
  currentHeartColor=`rgb(${r},${g},${b})`;
  particles.forEach(p=>{p.update();p.draw();});
  rows.forEach(r=>{r.offset-=1; if(r.offset<=-PHOTOS.length*200) r.offset=0; r.inner.style.top=r.offset+'px';});
  requestAnimationFrame(animate);
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
["mousedown","touchstart"].forEach(ev=>{
  canvas.addEventListener(ev,e=>{
    if(ev==="mousedown"){ pointerX=e.clientX; pointerY=e.clientY; }
    else { let t=e.touches[0]; pointerX=t.clientX; pointerY=t.clientY; }
    if(!started){
      started=true; music.play();
      setTimeout(()=>{ containers.forEach(c=>c.style.display='block'); toggle.style.display='block'; },2000);
    }
    particles.forEach(p=>p.isExploding=true);
  },{passive:false});
});
["mouseup","touchend"].forEach(ev=>{
  canvas.addEventListener(ev,()=>particles.forEach(p=>p.isExploding=false));
});
["mousemove","touchmove"].forEach(ev=>{
  canvas.addEventListener(ev,e=>{
    if(ev==="mousemove"){ pointerX=e.clientX; pointerY=e.clientY; }
    else { let t=e.touches[0]; pointerX=t.clientX; pointerY=t.clientY; }
  },{passive:false});
});
toggle.onclick=()=>{ if(music.paused){music.play(); toggle.textContent='üîä';} else{music.pause(); toggle.textContent='üîá';} };

// --- –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ ---
document.getElementById("start-btn").onclick=()=>{
  document.getElementById("start-screen").style.display="none";
  animate();
};
</script>
</body>
</html>
